<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
    <meta name="format-detection" content="telephone=no"/>
    <link rel="stylesheet" href="css/apple.css">
    <link rel="stylesheet" href="css/index.css">
    <script src="js/jquery.min.js"></script>
    <script src="js/util.js"></script>
    <script src="js/loginUtil.js"></script>
</head>
<body>
<!--title-->
<div class="header gradient_bg">
    <div class="header_logo">
        <!--			<a onclick="window.history.back()" class="header_back"> &lt </a>-->
        <span>滚筒子登录</span>
    </div>
</div>

<!--注册-->

<ul class="login_tab">
    <li><span>验证码登录</span></li>
    <li class="cur"><span>密码登录</span></li>
</ul>
<ul class="login_show">
    <li>
        <div class="login_div">
            <span class="login_ltext">手机号</span>
            <input class="login_input" type="tel" maxlength="11" placeholder="输入手机号"/>
        </div>
        <div class="login_div">
            <span class="login_ltext">验证码</span>
            <div class="auth_div">
                <input class="login_input auth_input" type="tel" maxlength="4" placeholder="输入验证码"/>
                <div class="get_auth_code">
                    <span style="font-size: 0.30rem;color: white">获取验证码</span>
                </div>
            </div>
        </div>
        <div class="register_action">
            <span>登录</span>
        </div>
    </li>
    <li class="cur">
        <div class="login_div">
            <span class="login_ltext">手机号</span>
            <input id="phone_id" class="login_input" type="tel" maxlength="11" placeholder="输入手机号"/>
        </div>
        <div class="login_div">
            <span class="login_ltext">密码</span>
            <input id="password_id" class="login_input" type="password" maxlength="32" placeholder="输入密码"/>
        </div>
        <div class="register_action gradient_bg">
            <span>登录</span>
        </div>
    </li>
</ul>

<div class="register_div">
    <a class="register_text" href="register.html">注册账号</a></div>
</div>

<script>
    $ (function () {
        $ ('.register_action').click (function () {
            var isRight = checkInData ($ ('#phone_id').val (), $ ('#password_id').val ())
            if (isRight) {
                loginReq ($ ('#phone_id').val (), $ ('#password_id').val (),
                    function (flag, data) {
                        if (flag) {
                            webCookie.setItem ('userId', data.data.id)
                            window.location.href = data.data.gameUrl
                        } else {
                            alert ('登录失败');
                        }
                        console.log (data)
                    })

            } else {
                console.log ('参数错误')
            }
        })

        $ ('.login_tab li').click (function () {//切换登陆类型
            if ($ (this).hasClass ('cur')) {
                return;
            }
            $ (this).addClass ('cur').siblings ().removeClass ('cur');
            var i = $ (this).index ();
            $ (".login_show > li").eq (i).addClass ('cur').siblings ().removeClass ('cur');
        });
    })
</script>
</body>
</html>